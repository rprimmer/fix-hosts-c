.\" Automatically generated by Pandoc 3.1.12.2
.\"
.TH "fix\-hostfiles" "1" "March 2024"
.SS NAME
fix\-hostfiles \- Manage /etc/hosts for hblock(1)
.SS SYNOPSIS
\f[B]fix\-hostfiles\f[R] [OPTION] <ACTION>
.SS DESCRIPTION
hblock(1) is a shell script (available on homebrew) that blocks ads,
beacons and malware sites.
It does this by editing /etc/hosts and setting the IP address for such
sites to 0.0.0.0.
The issue is that hblock sometimes adds sites to /etc/hosts that are
needed.
This program fixes such issues by adding good DNS hosts to the exclusion
list (/etc/hblock/allow.list) and removing the corresponding entry from
/etc/hosts.
It will also optionally flush the DNS cache and restart the
mDNSResponder daemon.
.SS OPTIONS
.TP
\f[B]\-h, \-\-help\f[R] Display this help message and exit
.TP
\f[B]\-r, \-\-flush\f[R]: Flush DNS cache and restart mDNSResponder
daemon
.TP
\f[B]\-a, \-\-add <DNS name>\f[R]: Add a DNS entry to allow list and
remove from /etc/hosts
.SS ACTIONS
\f[B]prep\f[R]: Backup hosts file and run hblock to create a new hosts
file.
.PP
\f[B]restore\f[R]: Reinstate original hosts file.
.SS RESTRICTIONS
The <flush> action is for macOS only.
.PP
Requires privileged actions.
User must know sudo(1) password.
.SS NOTES
When adding a DNS entry (\-a, \-\-add) or flushing the cache (\-f,
\-\-flush), the arguments <prep | restore> are not required.
.SS EXAMPLES
sudo fix\-hostfiles prep
.PP
sudo fix\-hostfiles restore
.PP
sudo fix\-hostfiles \-a example.domain.com
.PP
sudo fix\-hostfiles \-f
.SH AUTHORS
Robert Primmer