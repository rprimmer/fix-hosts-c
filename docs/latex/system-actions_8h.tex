\doxysection{src/system-\/actions.h File Reference}
\hypertarget{system-actions_8h}{}\label{system-actions_8h}\index{src/system-\/actions.h@{src/system-\/actions.h}}


Common functions and system actions.  


{\ttfamily \#include $<$dirent.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$fcntl.\+h$>$}\newline
{\ttfamily \#include $<$fnmatch.\+h$>$}\newline
{\ttfamily \#include $<$grp.\+h$>$}\newline
{\ttfamily \#include $<$libgen.\+h$>$}\newline
{\ttfamily \#include $<$limits.\+h$>$}\newline
{\ttfamily \#include $<$pwd.\+h$>$}\newline
{\ttfamily \#include $<$regex.\+h$>$}\newline
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/wait.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{system-actions_8h_a04cc41e83aa563a29292165eecfcb991}\label{system-actions_8h_a04cc41e83aa563a29292165eecfcb991} 
\#define {\bfseries HANDLE\+\_\+\+ERROR}(fmt, ...)~handle\+Error(true, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, fmt, \#\#\+\_\+\+\_\+\+VA\+\_\+\+ARGS\+\_\+\+\_\+)
\item 
\Hypertarget{system-actions_8h_a14249416ad32f98dd8cd68010bf308a2}\label{system-actions_8h_a14249416ad32f98dd8cd68010bf308a2} 
\#define {\bfseries REPORT\+\_\+\+ERROR}(fmt, ...)~handle\+Error(false, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, fmt, \#\#\+\_\+\+\_\+\+VA\+\_\+\+ARGS\+\_\+\+\_\+)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{system-actions_8h_ab719e77d50ec6d2ad1d970def769b19f}{handle\+Error}} (bool fatal, char \texorpdfstring{$\ast$}{*}file, const char \texorpdfstring{$\ast$}{*}func, int line, const char \texorpdfstring{$\ast$}{*}fmt,...)
\begin{DoxyCompactList}\small\item\em Common error handling routine. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_aacec6921920b3fd38c4a4e697b511294}{boolean\+Query}} (const char \texorpdfstring{$\ast$}{*}prompt)
\begin{DoxyCompactList}\small\item\em Query user for yes or no. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_a5c3fee518af0ba8b435624e66e850f73}{file\+Exists}} (const char \texorpdfstring{$\ast$}{*}filename)
\begin{DoxyCompactList}\small\item\em Check for file existence. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_a867793539943cf9063d0211f522bdeb7}{copy\+File}} (const char \texorpdfstring{$\ast$}{*}src, const char \texorpdfstring{$\ast$}{*}dest)
\begin{DoxyCompactList}\small\item\em Make a copy of a file. Uses fread(3) \& fwrite(3). \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_ad8b64d3293d7b5b4eef88bb487f52dc7}{copy\+File2}} (const char \texorpdfstring{$\ast$}{*}src, const char \texorpdfstring{$\ast$}{*}dest)
\begin{DoxyCompactList}\small\item\em Make a copy of a file. Uses read(2) \& write(2). \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_af3f50032c2e61b1af985fa1cd136b18c}{ls\+Files}} (const char \texorpdfstring{$\ast$}{*}dirname, const char \texorpdfstring{$\ast$}{*}files)
\begin{DoxyCompactList}\small\item\em List files in a directory. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_ade1d1cc95d45aa0d314ee83573ca2d8b}{file\+Info}} (const char \texorpdfstring{$\ast$}{*}filepath)
\begin{DoxyCompactList}\small\item\em Display information about a file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_a17115f262e6d530eb316f389d25ea9c3}{check\+Process}} (const char \texorpdfstring{$\ast$}{*}process\+\_\+name)
\begin{DoxyCompactList}\small\item\em Check if a process is currently running. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_a9933a8203091574569403e9409795446}{display\+Process}} (const char \texorpdfstring{$\ast$}{*}process\+\_\+name)
\begin{DoxyCompactList}\small\item\em Display info on a running process. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system-actions_8h_a5ffe2cbc043d8660d971d6b9d734f539}{validate\+DNSname}} (const char \texorpdfstring{$\ast$}{*}dns\+\_\+name)
\begin{DoxyCompactList}\small\item\em DNS name must start \& end with a letter or a number and can only contain letters, numbers, and hyphens. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Common functions and system actions. 

\begin{DoxyAuthor}{Author}
Robert Primmer (\href{https://github.com/rprimmer}{\texttt{ https\+://github.\+com/rprimmer}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+2 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/03-\/24 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{system-actions_8h_aacec6921920b3fd38c4a4e697b511294}\label{system-actions_8h_aacec6921920b3fd38c4a4e697b511294} 
\index{system-\/actions.h@{system-\/actions.h}!booleanQuery@{booleanQuery}}
\index{booleanQuery@{booleanQuery}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{booleanQuery()}{booleanQuery()}}
{\footnotesize\ttfamily int boolean\+Query (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{prompt }\end{DoxyParamCaption})}



Query user for yes or no. 


\begin{DoxyParams}{Parameters}
{\em prompt} & Message to be displayed to user. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return true if user entered y or Y. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_a17115f262e6d530eb316f389d25ea9c3}\label{system-actions_8h_a17115f262e6d530eb316f389d25ea9c3} 
\index{system-\/actions.h@{system-\/actions.h}!checkProcess@{checkProcess}}
\index{checkProcess@{checkProcess}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{checkProcess()}{checkProcess()}}
{\footnotesize\ttfamily int check\+Process (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{process\+\_\+name }\end{DoxyParamCaption})}



Check if a process is currently running. 


\begin{DoxyParams}{Parameters}
{\em process\+\_\+name} & Process to look for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return status. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_a867793539943cf9063d0211f522bdeb7}\label{system-actions_8h_a867793539943cf9063d0211f522bdeb7} 
\index{system-\/actions.h@{system-\/actions.h}!copyFile@{copyFile}}
\index{copyFile@{copyFile}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{copyFile()}{copyFile()}}
{\footnotesize\ttfamily int copy\+File (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{src,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{dest }\end{DoxyParamCaption})}



Make a copy of a file. Uses fread(3) \& fwrite(3). 


\begin{DoxyParams}{Parameters}
{\em src} & File to be copied. \\
\hline
{\em dest} & Filename of copy. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return status. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_ad8b64d3293d7b5b4eef88bb487f52dc7}\label{system-actions_8h_ad8b64d3293d7b5b4eef88bb487f52dc7} 
\index{system-\/actions.h@{system-\/actions.h}!copyFile2@{copyFile2}}
\index{copyFile2@{copyFile2}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{copyFile2()}{copyFile2()}}
{\footnotesize\ttfamily int copy\+File2 (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{src,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{dest }\end{DoxyParamCaption})}



Make a copy of a file. Uses read(2) \& write(2). 


\begin{DoxyParams}{Parameters}
{\em src} & File to be copied. \\
\hline
{\em dest} & Filename of copy. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return status. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_a9933a8203091574569403e9409795446}\label{system-actions_8h_a9933a8203091574569403e9409795446} 
\index{system-\/actions.h@{system-\/actions.h}!displayProcess@{displayProcess}}
\index{displayProcess@{displayProcess}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{displayProcess()}{displayProcess()}}
{\footnotesize\ttfamily int display\+Process (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{process\+\_\+name }\end{DoxyParamCaption})}



Display info on a running process. 


\begin{DoxyParams}{Parameters}
{\em process\+\_\+name} & Process to look for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return status. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_a5c3fee518af0ba8b435624e66e850f73}\label{system-actions_8h_a5c3fee518af0ba8b435624e66e850f73} 
\index{system-\/actions.h@{system-\/actions.h}!fileExists@{fileExists}}
\index{fileExists@{fileExists}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{fileExists()}{fileExists()}}
{\footnotesize\ttfamily int file\+Exists (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{filename }\end{DoxyParamCaption})}



Check for file existence. 


\begin{DoxyParams}{Parameters}
{\em filename} & File to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return true of file exists. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_ade1d1cc95d45aa0d314ee83573ca2d8b}\label{system-actions_8h_ade1d1cc95d45aa0d314ee83573ca2d8b} 
\index{system-\/actions.h@{system-\/actions.h}!fileInfo@{fileInfo}}
\index{fileInfo@{fileInfo}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{fileInfo()}{fileInfo()}}
{\footnotesize\ttfamily int file\+Info (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{filepath }\end{DoxyParamCaption})}



Display information about a file. 


\begin{DoxyParams}{Parameters}
{\em filepath} & File to stat. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return status. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_ab719e77d50ec6d2ad1d970def769b19f}\label{system-actions_8h_ab719e77d50ec6d2ad1d970def769b19f} 
\index{system-\/actions.h@{system-\/actions.h}!handleError@{handleError}}
\index{handleError@{handleError}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{handleError()}{handleError()}}
{\footnotesize\ttfamily void handle\+Error (\begin{DoxyParamCaption}\item[{bool}]{fatal,  }\item[{char \texorpdfstring{$\ast$}{*}}]{file,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{func,  }\item[{int}]{line,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{fmt,  }\item[{}]{... }\end{DoxyParamCaption})}



Common error handling routine. 


\begin{DoxyParams}{Parameters}
{\em fatal} & If true, exit program, else returns to the caller. \\
\hline
{\em file} & C filename (translation unit) of caller. \\
\hline
{\em func} & Function name of caller. \\
\hline
{\em line} & Line number in translation unit. \\
\hline
{\em fmt} & Optional parameters can be provided (va\+\_\+list). \\
\hline
\end{DoxyParams}
\Hypertarget{system-actions_8h_af3f50032c2e61b1af985fa1cd136b18c}\label{system-actions_8h_af3f50032c2e61b1af985fa1cd136b18c} 
\index{system-\/actions.h@{system-\/actions.h}!lsFiles@{lsFiles}}
\index{lsFiles@{lsFiles}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{lsFiles()}{lsFiles()}}
{\footnotesize\ttfamily int ls\+Files (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{dirname,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{files }\end{DoxyParamCaption})}



List files in a directory. 


\begin{DoxyParams}{Parameters}
{\em dirname} & Directory housing files. \\
\hline
{\em files} & Files to list. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return status. 
\end{DoxyReturn}
\Hypertarget{system-actions_8h_a5ffe2cbc043d8660d971d6b9d734f539}\label{system-actions_8h_a5ffe2cbc043d8660d971d6b9d734f539} 
\index{system-\/actions.h@{system-\/actions.h}!validateDNSname@{validateDNSname}}
\index{validateDNSname@{validateDNSname}!system-\/actions.h@{system-\/actions.h}}
\doxysubsubsection{\texorpdfstring{validateDNSname()}{validateDNSname()}}
{\footnotesize\ttfamily int validate\+DNSname (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{dns\+\_\+name }\end{DoxyParamCaption})}



DNS name must start \& end with a letter or a number and can only contain letters, numbers, and hyphens. 


\begin{DoxyParams}{Parameters}
{\em dns\+\_\+name} & DNS name to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Return status. 
\end{DoxyReturn}
